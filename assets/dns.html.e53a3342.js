import{_ as r,o as n,c as a,a as e,d,b as o,e as t,r as c}from"./app.f27417d2.js";const i={},h=o(`<h1 id="dns-configuration" tabindex="-1"><a class="header-anchor" href="#dns-configuration" aria-hidden="true">#</a> DNS Configuration</h1><h2 id="how-to-check-your-dns" tabindex="-1"><a class="header-anchor" href="#how-to-check-your-dns" aria-hidden="true">#</a> How to check your dns?</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> /etc/resolv.conf 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemd-resolve --status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="why-resolv-conf-points-at-127-0-0-53" tabindex="-1"><a class="header-anchor" href="#why-resolv-conf-points-at-127-0-0-53" aria-hidden="true">#</a> Why resolv.conf points at 127.0.0.53?</h2>`,5),l={href:"https://unix.stackexchange.com/questions/612416/why-does-etc-resolv-conf-point-at-127-0-0-53",target:"_blank",rel:"noopener noreferrer"},u=t("See further explanation"),p=o('<p>You might have <code>systemd-resolved</code> service running.</p><p>Normally <code>/etc/resolv.conf</code> points to <code>/run/systemd/resolve/stub-resolv.conf</code></p><p>remove <code>resolv.conf</code> and create a soft link that points to <code>/run/.../resolv.conf</code>.</p><p>In this way, system will forward every dns query directly to the dns server you specified in side resolve.conf</p><h2 id="how-to-test-if-dns-rules-applied" tabindex="-1"><a class="header-anchor" href="#how-to-test-if-dns-rules-applied" aria-hidden="true">#</a> How to test if dns rules applied?</h2><p><code>dig website</code> or <code>nslookup website</code></p><p>Remeber to clear cache: <code>resolvectl flush-caches</code> and <code>ipconfig /flushdns</code></p><h2 id="how-to-add-record-for-dnsmasq" tabindex="-1"><a class="header-anchor" href="#how-to-add-record-for-dnsmasq" aria-hidden="true">#</a> How to add record for dnsmasq</h2><p>Just add record inside <code>/etc/hosts</code>, remember to restart it. <code>/etc/init.d/dnsmasq restart</code></p><p>Inside Chrome, remember to flush dns and close <strong>Secure DNS</strong>; <code>chrome://net-internals</code>, and remove cache from &quot;history&quot; page</p><h2 id="why-wireshark-can-get-dns-query-for-browser" tabindex="-1"><a class="header-anchor" href="#why-wireshark-can-get-dns-query-for-browser" aria-hidden="true">#</a> Why Wireshark can get dns query for browser</h2><p>Try turn off your proxy and try again.</p><h2 id="why-dnsmasq-not-working-with-proxy-on" tabindex="-1"><a class="header-anchor" href="#why-dnsmasq-not-working-with-proxy-on" aria-hidden="true">#</a> Why dnsmasq not working with proxy on?</h2><p>Proxy might use it&#39;s own configured dns. So you need to check it and change it to your dnsmasq address;</p><h2 id="what-dns-servers-are-dnsmasq-using-openwrt" tabindex="-1"><a class="header-anchor" href="#what-dns-servers-are-dnsmasq-using-openwrt" aria-hidden="true">#</a> What dns servers are dnsmasq using? (OpenWrt)</h2><p>Checkout <code>/etc/config/dhcp</code></p>',16);function f(m,v){const s=c("ExternalLinkIcon");return n(),a("div",null,[h,e("p",null,[e("a",l,[u,d(s)])]),p])}var y=r(i,[["render",f],["__file","dns.html.vue"]]);export{y as default};
